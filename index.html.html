<html>
    <head>
        <meta charset='utf-8'>
        <script>
        </script>
    </head>
    <body onload="desenharTabuleiro()">
        Jogo da Velha, daí <br><br>
        
        <script>
            //var tabuleiro = [
              //  [0, 1, 2],
            //    [3, 4, 5],
             //   [6, 7, 8]
           // ];
            
            //tabuleiro[linha, podendo ser 0, 1 ou 2] + [coluna, ou seja, posição exata]
            //tabuleiro[0][2];
                    
            
            
         
            var VAZIO = {
                simbolo: "_"
            };
            
            var tabuleiro = [
                [VAZIO, VAZIO, VAZIO],
                [VAZIO, VAZIO, VAZIO],
                [VAZIO, VAZIO, VAZIO]
            ];
            
            
            var jogadorX = {
                simbolo: "X"
            }
            
            var jogadorO = {
                simbolo: "O"
            }
            
            var jogadorAtual = jogadorX;
            
            
            function novaLinha(){
                // document.write("<br>");
                var br= document.createElement("BR");
                    document.body.appendChild(br);
            }
            
            
            var criarBotaoTabuleiro = function(linha, coluna){
                var button = document.createElement("button");
                button.textContent = tabuleiro[linha][coluna].simbolo;
                
                button.onclick = function() {
                    fazerJogada(linha,coluna);
                
                }
                document.body.appendChild(button);
            }
            
            
            var limpaTela = function(){
                document.body.innerHTML="";
            } 
            
            
            var desenharTabuleiro = function(){
                limpaTela();
                for(var linha=0; linha <3; linha++){
                    for(var coluna=0; coluna < 3; coluna++){
                       // console.log("linha: " + linha + " / coluna: " + coluna);
                       // document.write("[" + tabuleiro[linha][coluna] + "]");
                       criarBotaoTabuleiro(linha,coluna);
                       }
                   novaLinha();
                }
                
            }
            
            
                
            //Função para passar a jogada para o proximo jogador    
            var proximoJogador = function() {
                if(jogadorAtual === jogadorX){
                    jogadorAtual = jogadorO;
                } else {
                    jogadorAtual = jogadorX;
                }
            }

            
           //Essa função controla a mudança de estado do jogo
            var fazerJogada = function(linha, coluna) {
                //verificar se a posição escolhida para a jogada atual está vazia, se sim, ele já imprime o jogador atual
                if (tabuleiro[linha][coluna] === VAZIO) {
                    tabuleiro[linha][coluna] = jogadorAtual;
                    desenharTabuleiro(); //O tabuleiro é redesenhado e atualizado
                    proximoJogador();
               
                } else { //Caso o espaço escolhido esteja ocupado
                    alert("Jogada Inválida");
                }
            
            }

            
        </script>
    </body>
    
</html>
